## ১. জাভাস্ক্রিপ্ট প্রোগ্রামের সংজ্ঞা ও সীমানা (Definition & Scope)

* **ফরমাল সংজ্ঞা নেই:** ক্লায়েন্ট-সাইড জাভাস্ক্রিপ্টে "প্রোগ্রাম" এর কোনো কঠোর বা ফরমাল সংজ্ঞা নেই।
* **সাধারণ ধারণা:** একটি এইচটিএমএল (HTML) ডকুমেন্টের ভেতরে থাকা বা রেফারেন্স করা সমস্ত কোড মিলে একটি জাভাস্ক্রিপ্ট প্রোগ্রাম তৈরি করে।
* **গ্লোবাল অবজেক্ট:** এই আলাদা কোডগুলো একটি সিঙ্গেল গ্লোবাল `Window` অবজেক্ট শেয়ার করে এবং একই `Document` অবজেক্ট অ্যাক্সেস করতে পারে।
* **মডিউল vs নন-মডিউল:** যেসব স্ক্রিপ্ট মডিউল (module) নয়, তারা একটি টপ-লেভেল নেমস্পেস (namespace) শেয়ার করে।

## ২. আইফ্রেম (iFrame) ও প্রোগ্রামের সীমানা

* **ভিন্ন এনভায়রনমেন্ট:** যদি পেজে `<iframe>` থাকে, তবে সেই এমবেডেড ডকুমেন্টের নিজস্ব গ্লোবাল অবজেক্ট এবং `Document` অবজেক্ট থাকে। এটিকে একটি আলাদা জাভাস্ক্রিপ্ট প্রোগ্রাম হিসেবে ধরা হয়।
* **ইন্টারঅ্যাকশন (Interaction):** যদি মূল ডকুমেন্ট এবং আইফ্রেমের ডকুমেন্ট একই সার্ভার থেকে লোড হয়, তবে তারা একে অপরের কোডের সাথে ইন্টারঅ্যাক্ট করতে পারে। চাইলে এদের "একই প্রোগ্রামের দুটি অংশ" হিসেবেও ভাবা যেতে পারে।

## ৩. এক্সিকিউশনের দুটি প্রধান পর্যায় (Two Phases of Execution)

জাভাস্ক্রিপ্ট এক্সিকিউশন মূলত দুটি ধাপে বা ফেজে (phase) বিভক্ত:

**প্রথম পর্যায়: লোডিং ফেজ (Loading Phase)**

* ডকুমেন্ট লোড হওয়ার সময় `<script>` ট্যাগগুলোর (ইনলাইন বা এক্সটার্নাল) কোড রান হয়।
* সাধারণত স্ক্রিপ্টগুলো ডকুমেন্টে যে অর্ডারে থাকে, সেই অর্ডারেই রান হয় (তবে `async` বা `defer` এট্রিবিউট দিয়ে এটা বদলানো যায়)।
* একটি স্ক্রিপ্টের ভেতরের কোড উপর থেকে নিচে (top to bottom) এক্সিকিউট হয় (কন্ডিশনাল বা লুপ মেনে)।
* **কাজ:** কিছু স্ক্রিপ্ট এই ধাপে শুধু ফাংশন বা ক্লাস ডিফাইন (define) করে রাখে (পরের ধাপের জন্য)। আবার কিছু স্ক্রিপ্ট এই ধাপেই কাজ শেষ করে ফেলে (যেমন: ডকুমেন্টের শুরুতে Table of Contents তৈরি করা)।

**দ্বিতীয় পর্যায়: ইভেন্ট-ড্রিভেন ফেজ (Event-Driven Phase)**

* ডকুমেন্ট লোড শেষ হওয়ার পর এই পর্যায় শুরু হয়। এটি অ্যাসিনক্রোনাস (Asynchronous)।
* এই ধাপে কাজ করার জন্য, প্রথম ধাপে স্ক্রিপ্টগুলোকে অবশ্যই কোনো ইভেন্ট হ্যান্ডলার বা কলব্যাক ফাংশন রেজিস্টার করে রাখতে হয়।
* ব্রাউজার বিভিন্ন ইভেন্টের (যেমন: মাউস ক্লিক, কি-স্ট্রোক, নেটওয়ার্ক অ্যাক্টিভিটি, বা টাইমার) রেসপন্সে এই ফাংশনগুলোকে কল করে।

## ৪. গুরুত্বপূর্ণ ইভেন্টসমূহ (Key Events: DOMContentLoaded & Load)

* **DOMContentLoaded:** যখন এইচটিএমএল ডকুমেন্ট পুরোপুরি লোড এবং পার্স (parse) করা হয়ে যায়, তখন এটি ট্রিগার হয়।
* **load:** যখন ডকুমেন্টের সব এক্সটার্নাল রিসোর্স (যেমন ছবি) পুরোপুরি লোড হয়ে যায়, তখন এটি ট্রিগার হয়।
* **ব্যবহার:** প্রোগ্রামাররা প্রায়ই এই ইভেন্টগুলোকে "স্টার্টিং সিগন্যাল" হিসেবে ব্যবহার করেন। অর্থাৎ, স্ক্রিপ্ট লোড হওয়ার সময় শুধু একটি `load` ইভেন্ট হ্যান্ডলার রেজিস্টার করে রাখে, যা পরে মূল কাজ শুরু করে।
* **স্থায়িত্ব:** লোডিং ফেজ খুব দ্রুত শেষ হয় (সাধারণত ১ সেকেন্ডের কম), কিন্তু ইভেন্ট-ড্রিভেন ফেজ ততক্ষণ চলে যতক্ষণ পেজটি ব্রাউজারে খোলা থাকে।

## ৫. সিঙ্গেল-থ্রেডেড মডেল (Single-Threaded Model)

* **সরলতা:** জাভাস্ক্রিপ্ট সিঙ্গেল-থ্রেডেড, তাই দুটি ইভেন্ট হ্যান্ডলার কখনো একই সময়ে রান করে না। এতে লক (locks), ডেডলক (deadlock) বা রেস কন্ডিশন (race condition) নিয়ে চিন্তা করতে হয় না।
* **সমস্যা (UI Freezing):** স্ক্রিপ্ট বা ইভেন্ট হ্যান্ডলার রান করার সময় ব্রাউজার ইউজার ইনপুটে সাড়া দেওয়া বন্ধ করে দেয়।
* **সতর্কতা:** যদি কোনো স্ক্রিপ্ট বা হ্যান্ডলার খুব বেশি সময় নেয় (computationally intensive), তবে পেজটি "হ্যাং" বা নন-রেসপন্সিভ মনে হতে পারে।

## ৬. ওয়েব ওয়ার্কার (Web Workers) - কনকারেন্সি সমাধান

* ভারী কাজের জন্য "ওয়েব ওয়ার্কার" ব্যবহার করা হয়, যা ব্যাকগ্রাউন্ড থ্রেডে কাজ করে।
* এটি মেইন থ্রেড বা ডকুমেন্ট কন্টেন্ট অ্যাক্সেস করতে পারে না।
* এটি মেইন থ্রেডের সাথে কেবল মেসেজ আদান-প্রদানের মাধ্যমে যোগাযোগ করে, তাই এটি জাভাস্ক্রিপ্টের মূল সিঙ্গেল-থ্রেডেড মডেলে ব্যাঘাত ঘটায় না।

## ৭. বিস্তারিত টাইমলাইন (Detailed Client-side JavaScript Timeline)

1. **ডকুমেন্ট তৈরি:** ব্রাউজার `Document` অবজেক্ট তৈরি করে এবং এইচটিএমএল পার্স (parse) করা শুরু করে। এলিমেন্ট ও টেক্সট নোডগুলো ডকুমেন্টে যোগ হতে থাকে। এই সময়ে `document.readyState` এর ভ্যালু থাকে **"loading"**।
2. **সিঙ্ক্রোনাস স্ক্রিপ্ট (Sync Scripts):** পার্সার যখন এমন কোনো `<script>` ট্যাগ পায় যাতে `async`, `defer` বা `type="module"` নেই:
* পার্সার থেমে যায়।
* স্ক্রিপ্টটি ডাউনলোড (প্রয়োজন হলে) এবং রান হয়।
* এই স্ক্রিপ্টগুলো `document.write()` ব্যবহার করে ইনপুট স্ট্রিমে টেক্সট ঢুকাতে পারে।
* এরা নিজের আগের কন্টেন্ট দেখতে পায়।


3. **অ্যাসিনক্রোনাস স্ক্রিপ্ট (Async Scripts):** পার্সার যখন `async` এট্রিবিউটযুক্ত স্ক্রিপ্ট পায়:
* এটি স্ক্রিপ্ট ডাউনলোড শুরু করে এবং একই সাথে ডকুমেন্ট পার্স করা চালিয়ে যায় (থামে না)।
* ডাউনলোড শেষ হওয়ামাত্র স্ক্রিপ্টটি রান করে।
* এরা `document.write()` ব্যবহার করতে পারে না।


4. **ইন্টারঅ্যাক্টিভ স্টেট:** যখন ডকুমেন্ট পুরোপুরি পার্স করা শেষ হয়, তখন `document.readyState` পরিবর্তিত হয়ে **"interactive"** হয়।
5. **ডেফার্ড স্ক্রিপ্ট (Defer Scripts):** এই পর্যায়ে `defer` এট্রিবিউটযুক্ত স্ক্রিপ্টগুলো (এবং `async` ছাড়া মডিউল স্ক্রিপ্টগুলো) ডকুমেন্টে তাদের অবস্থান অনুযায়ী একে একে রান করে। কিছু `async` স্ক্রিপ্টও এই সময়ে রান হতে পারে। এদের পুরো ডকুমেন্টে অ্যাক্সেস থাকে।
6. **DOMContentLoaded ইভেন্ট:** ব্রাউজার `Document` অবজেক্টে **"DOMContentLoaded"** ইভেন্ট ফায়ার করে। এটি সিঙ্ক্রোনাস ফেজ থেকে অ্যাসিনক্রোনাস ফেজে যাওয়ার ট্রানজিশন মার্ক করে।
7. **কমপ্লিট স্টেট (Complete State):** ডকুমেন্ট পার্স শেষ, কিন্তু ছবি বা অন্যান্য রিসোর্স লোড হওয়া বাকি থাকতে পারে। যখন সব লোড শেষ হয় এবং সব `async` স্ক্রিপ্ট রান করা হয়ে যায়:
* `document.readyState` পরিবর্তিত হয়ে **"complete"** হয়।
* ব্রাউজার `Window` অবজেক্টে **"load"** ইভেন্ট ফায়ার করে।


8. **ইভেন্ট লুপ:** এরপর থেকে ইভেন্ট হ্যান্ডলারগুলো ইউজার ইনপুট, নেটওয়ার্ক ইভেন্ট বা টাইমার এক্সপায়ার হওয়ার রেসপন্সে অ্যাসিনক্রোনাসভাবে কল হতে থাকে।

## পাঠের বিষয়: JavaScript এর ইনপুট এবং আউটপুট

শুরুতেই ছাত্রদের বলুন: *"যেকোনো কম্পিউটার প্রোগ্রামের কাজ হলো কিছু তথ্য নেওয়া (Input), সেটা প্রসেস করা এবং শেষে একটি ফলাফল দেখানো (Output)। ঠিক একইভাবে ব্রাউজারের জাভাস্ক্রিপ্টও কাজ করে।"*

নিচে বিষয়গুলো পয়েন্ট আকারে দেওয়া হলো যা আপনি ক্লাসে ব্যাখ্যা করবেন:

#### ধাপ ১: জাভাস্ক্রিপ্ট কোথা থেকে ইনপুট (Input) পায়?

জাভাস্ক্রিপ্ট মোট ৫টি প্রধান জায়গা থেকে তথ্য বা ইনপুট সংগ্রহ করতে পারে। এগুলো হলো:

**১. ডকুমেন্ট বা পেজের কন্টেন্ট (The Document Content):**

* **সহজ ব্যাখ্যা:** আমরা ওয়েবসাইটে যা লেখা বা ছবি দেখি, সেটাই ডকুমেন্ট।
* **কিভাবে কাজ করে:** জাভাস্ক্রিপ্ট **DOM API** ব্যবহার করে এই ডকুমেন্টের ভেতরের লেখা বা তথ্য পড়তে পারে।

**২. ব্যবহারকারীর অ্যাকশন বা ইভেন্ট (User Input/Events):**

* **সহজ ব্যাখ্যা:** ইউজার যখন মাউস দিয়ে কোনো বাটনে **ক্লিক (Click)** করে, বা টাচস্ক্রিনে **ট্যাপ (Tap)** করে, অথবা কোনো বক্সে **টেক্সট লেখে**—এগুলো সবই ইনপুট।
* **কিভাবে কাজ করে:** জাভাস্ক্রিপ্ট এই ঘটনাগুলো (Events) ট্র্যাক করে এবং সেই অনুযায়ী কাজ করে।

**৩. ওয়েবসাইটের ঠিকানা (The URL):**

* **সহজ ব্যাখ্যা:** ব্রাউজারের অ্যাড্রেস বারে যে লিংক বা URL থাকে।
* **কিভাবে কাজ করে:** `document.URL` ব্যবহার করে জাভাস্ক্রিপ্ট জানতে পারে ইউজার এখন কোন পেজে আছে। এটি `URL()` কনস্ট্রাক্টর দিয়ে আরও বিস্তারিতভাবে পড়া যায়।

**৪. কুকিজ (HTTP Cookies):**

* **সহজ ব্যাখ্যা:** ব্রাউজারে সেভ হয়ে থাকা ছোট ছোট তথ্য (যেমন— লগইন ইনফরমেশন)।
* **কিভাবে কাজ করে:** সাধারণত সার্ভার এটি ব্যবহার করে, কিন্তু জাভাস্ক্রিপ্টও `document.cookie` ব্যবহার করে এটি পড়তে বা লিখতে পারে।

**৫. ব্রাউজার এবং ডিভাইসের তথ্য (Navigator & Screen):**

* **সহজ ব্যাখ্যা:** ইউজার কোন ব্রাউজার (Chrome/Firefox) ব্যবহার করছে, বা তার কম্পিউটার কতটা শক্তিশালী, অথবা তার স্ক্রিন কত বড়।
* **কিভাবে কাজ করে:**
* `navigator` গ্লোবাল প্রপার্টি ব্যবহার করে ব্রাউজারের নাম (`userAgent`), ভাষা (`language`), বা প্রসেসর ক্ষমতা (`hardwareConcurrency`) জানা যায়।
* `screen` গ্লোবাল প্রপার্টি (যেমন `screen.width`) দিয়ে স্ক্রিনের সাইজ জানা যায়।



> **টিপস:** ছাত্রদের বলুন যে এই `navigator` এবং `screen` অনেকটা Node.js এর এনভায়রনমেন্ট ভেরিয়েবলের (Environment Variables) মতো কাজ করে।

#### ধাপ ২: জাভাস্ক্রিপ্ট কোথায় আউটপুট (Output) দেখায়?

ইনপুট নেওয়ার পর জাভাস্ক্রিপ্ট সাধারণত দুইভাবে ফলাফল বা আউটপুট দেয়:

**১. দৃশ্যমান আউটপুট (HTML Document Manipulation):**

* সবচেয়ে সাধারণ পদ্ধতি হলো **DOM API** ব্যবহার করে পেজের ডিজাইন বা লেখা পরিবর্তন করে দেওয়া।
* আধুনিক যুগে **React** বা **Angular** এর মতো ফ্রেমওয়ার্ক ব্যবহার করেও এটি করা হয়। এটি সাধারণ ইউজাররা দেখতে পান।

**২. ডেভেলপার আউটপুট (Debugging Console):**

* জাভাস্ক্রিপ্ট `console.log()` ব্যবহার করে ব্রাউজারের কনসোলে তথ্য দেখাতে পারে।
* **মনে রাখতে হবে:** এই আউটপুট সাধারণ ইউজাররা দেখেন না, এটি শুধুমাত্র প্রোগ্রামার বা ডেভেলপারদের কোড চেক (Debug) করার জন্য ব্যবহার করা হয়।

### ধাপ ৩: শিক্ষকের জন্য সারসংক্ষেপ (Summary for Teacher)

ক্লাস শেষ করার সময় আপনি এভাবে সামারি টানতে পারেন:

* **ইনপুট:** জাভাস্ক্রিপ্ট মূলত **HTML ডকুমেন্ট**, **ইউজারের ক্লিক/টাইপিং**, **URL**, **কুকিজ**, এবং **ব্রাউজারের তথ্য** থেকে ডেটা নেয়।
* **আউটপুট:** কাজ শেষে জাভাস্ক্রিপ্ট আবার **HTML পেজ আপডেট করে** ইউজারকে ফলাফল দেখায় অথবা ডেভেলপারদের জন্য **কনসোলে** মেসেজ প্রিন্ট করে।