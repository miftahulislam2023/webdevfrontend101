# Events

## Script Execution Timeline and Modifying Its Default Behaviour
- Synchrounously
- Defer, Async
- Loading scripts on demand
  
আপনার আপলোড করা ছবিটি জাভাস্ক্রিপ্ট স্ক্রিপ্ট লোড করার বিভিন্ন পদ্ধতি—বিশেষ করে **Synchronous (Default)**, **Async**, এবং **Defer** সম্পর্কে। নিচে আমি সহজভাবে প্রতিটি ধাপ এবং উদাহরণ বাংলায় বুঝিয়ে দিচ্ছি।

## জাভাস্ক্রিপ্ট লোডিং মেকানিজম (Step-by-Step)

ওয়েব ব্রাউজার যখন একটি HTML ফাইল পড়ে, তখন সে ওপর থেকে নিচ পর্যন্ত সিরিয়াল অনুযায়ী কাজ করে। যখনই সে একটি `<script>` ট্যাগ পায়, সে তার সাধারণ কাজ (HTML parsing) থামিয়ে দেয়।

### ১. ডিফল্ট পদ্ধতি (Synchronous/Blocking)

এটি হলো জাভাস্ক্রিপ্টের স্বাভাবিক আচরণ। ব্রাউজার যখনই কোনো স্ক্রিপ্ট পায়, সে HTML পড়া বন্ধ করে স্ক্রিপ্টটি ডাউনলোড এবং রান করে। এরপর আবার বাকি HTML পড়া শুরু করে।

* **সমস্যা:** স্ক্রিপ্ট বড় হলে পেজ লোড হতে অনেক দেরি হয় (Blocking effect)।

> **উদাহরণ:**
> ```html
> <script src="script.js"></script> 
> > ```
> 
> ```
> 
> 

### ২. Defer অ্যাট্রিবিউট (Deferred Execution)

`defer` ব্যবহার করলে ব্রাউজার HTML পড়ার পাশাপাশি ব্যাকগ্রাউন্ডে স্ক্রিপ্টটি ডাউনলোড করতে থাকে। কিন্তু স্ক্রিপ্টটি তখনি রান করে যখন পুরো HTML ডকুমেন্ট পড়া শেষ হয়।

* **বৈশিষ্ট্য:** এটি স্ক্রিপ্টের সিরিয়াল বজায় রাখে। অর্থাৎ একাধিক ডিফার স্ক্রিপ্ট থাকলে তারা কোডে যেভাবে লেখা হয়েছে সেভাবেই রান করবে।
* **কখন ব্যবহার করবেন:** যখন আপনার স্ক্রিপ্টটি কাজ করার জন্য পুরো HTML structure (DOM) তৈরি হওয়ার প্রয়োজন হয়।

> **উদাহরণ:**
> ```html
> <script defer src="script1.js"></script>
> <script defer src="script2.js"></script>
> > ```
> 
> ```
> 
> 

### ৩. Async অ্যাট্রিবিউট (Asynchronous Execution)

`async` অনেকটা "যখনি পাবে তখনি রান করবে" এমন। ব্রাউজার HTML পড়ার পাশাপাশি এটি ডাউনলোড করে, কিন্তু ডাউনলোড শেষ হওয়া মাত্রই HTML পড়া থামিয়ে স্ক্রিপ্টটি রান করে ফেলে।

* **বৈশিষ্ট্য:** এরা কোনো সিরিয়াল মানে না। যে স্ক্রিপ্ট আগে ডাউনলোড হবে, সেই আগে রান করবে।
* **কখন ব্যবহার করবেন:** থার্ড-পার্টি স্ক্রিপ্ট (যেমন: বিজ্ঞাপন বা অ্যানালিটিক্স) যা আপনার সাইটের অন্য কোডের ওপর নির্ভর করে না।

> **উদাহরণ:**
> ```html
> <script async src="ads.js"></script>
> <script async src="analytics.js"></script>
> > ```
> 
> ```
> 
> 

### ৪. আধুনিক বিকল্প: টাইপ মডিউল (Type="module")

ছবির তথ্য অনুযায়ী, স্ক্রিপ্টে যদি `type="module"` ব্যবহার করা হয়, তবে ব্রাউজার একে ডিফল্টভাবে `defer` হিসেবে গণ্য করে। অর্থাৎ এটি HTML পার্সিং ব্লক করবে না।

## একনজরে পার্থক্য (Comparison Table)

| বৈশিষ্ট্য         | Default (সরাসরি)  | Async                 | Defer            |
| ------------- | --------------- | --------------------- | ---------------- |
| **Parsing**   | ব্লক হয় (থেমে যায়)  | ব্লক হয় না (ডাউনলোডের সময়) | ব্লক হয় না         |
| **Execution** | ডাউনলোড শেষ হলেই রান | ডাউনলোড শেষ হলেই রান       | HTML পড়া শেষ হলে রান |
| **Order**     | সিরিয়াল ঠিক থাকে      | **সিরিয়াল ঠিক থাকে না**      | সিরিয়াল ঠিক থাকে       |

## ৫. সহজ উপায়: স্ক্রিপ্ট শেষে রাখা (The Manual Alternative)

ছবির শেষে একটি টিপস দেওয়া হয়েছে—যদি আপনি `async` বা `defer` ব্যবহার করতে না চান, তবে সব স্ক্রিপ্ট ট্যাগকে HTML ফাইলের একদম নিচে (অর্থাৎ `</body>` ট্যাগের ঠিক আগে) রাখুন। এতে ব্রাউজার পুরো HTML পড়ে ফেলার পর স্ক্রিপ্ট পাবে, ফলে ইউজার কোনো ল্যাগ অনুভব করবে না।

![JavaScript Loading & Execution Flow](./JavaScript-Loading-and-Execution-Flow.jpg)